import{c as R,d as $,a as v,a0 as A,A as E,m as H,a1 as O,I as T,w as V,a2 as q,r as b,N as j,o as l,g as i,q as e,j as a,t as u,F as y,h as w,k as L,l as k,s as C,a3 as z,v as D,x as F,_ as I,a4 as K,B as U,T as G,a5 as J,a6 as P}from"./index-DcSzU1BN.js";import{u as M,a as Q,b as W,F as X}from"./Footer-BfPc9SOA.js";import{P as Y}from"./mount-component-DfGsuC5f.js";import{s as Z}from"./function-call-BbtWbCUU.js";import"./publicMethods-BuSC0Y0W.js";import"./index-BfPAezUI.js";const[ee,S]=R("tag"),te={size:String,mark:Boolean,show:E,type:H("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var se=$({name:ee,props:te,emits:["close"],setup(t,{slots:h,emit:n}){const r=p=>{p.stopPropagation(),n("close",p)},_=()=>t.plain?{color:t.textColor||t.color,borderColor:t.color}:{color:t.textColor,background:t.color},x=()=>{var p;const{type:g,mark:f,plain:d,round:m,size:c,closeable:s}=t,o={mark:f,plain:d,round:m};c&&(o[c]=c);const B=s&&v(T,{name:"cross",class:[S("close"),O],onClick:r},null);return v("span",{style:_(),class:S([o,g])},[(p=h.default)==null?void 0:p.call(h),B])};return()=>v(A,{name:t.closeable?"van-fade":void 0},{default:()=>[t.show?x():null]})}});const oe=V(se),N=t=>(D("data-v-a067f85a"),t=t(),F(),t),ae={class:"list-item flex middle start"},ne=["src"],le={class:"right flex1 flex column start top"},ce={class:"title"},ie={class:"tags"},re={class:"price flex middle start"},de={class:"price-num"},ue=N(()=>e("span",{class:"small"},"¥",-1)),_e={class:"calc"},pe={class:"buy flex middle between"},me={class:"radio"},fe={class:"radio-num"},he=N(()=>e("button",{class:"buy-button"},"抢",-1)),ve=$({__name:"ListItem",props:{item:{type:Object,required:!0}},setup(t){const h=t,{item:n}=q(h);let r=b(Math.floor(new Date().getHours()/24*100)),_=j(()=>r.value>20?r.value:20);return(x,p)=>{const g=oe;return l(),i("div",ae,[e("img",{src:a(n).img,class:"left"},null,8,ne),e("div",le,[e("h4",ce,u(a(n).name),1),e("div",ie,[(l(!0),i(y,null,w(a(n).tags,(f,d)=>(l(),L(g,{style:{"margin-right":"10px"},plain:"",type:d==0?"danger":"warning",key:d},{default:k(()=>[C(u(f),1)]),_:2},1032,["type"]))),128))]),e("div",re,[e("span",de,[ue,C(u((a(n).price*10-a(n).saveMoney*10)/10),1)]),v(g,{plain:"",class:"save-money",type:"danger"},{default:k(()=>[C(" 省"+u(a(n).saveMoney)+"元",1)]),_:1}),e("span",_e,"日常价:"+u(a(n).price)+"元",1)]),e("div",pe,[e("div",me,[e("div",{class:"inside",style:z({width:`${a(_)-a(n).offset}%`})},null,4)]),e("div",fe,u(a(_)-a(n).offset)+"%",1),he])])])}}}),ge=I(ve,[["__scopeId","data-v-a067f85a"]]),ye={class:"low-price"},xe={class:"text flex column around"},we=$({__name:"LowPrice",props:{texts:{type:Array,default:()=>[{value:"您将获得1-3个优惠券",style:"color:var(--jd-color)"},{value:"请及时使用"},{value:"点击按钮登录后领取",style:"color:var(--jd-color)"}]},path:{type:String,default:"/wechat"}},setup(t,{expose:h}){const{toLogin:n}=M();let{show:r,open:_,close:x}=Q();const p=t;_();async function g(){try{await Z({message:"确定要关闭吗？",confirmButtonText:"确定",confirmButtonColor:"var(--jd-color)",cancelButtonText:"取消",showCancelButton:!0,closeOnClickOverlay:!0}),x()}catch{}}return h({open:_}),(f,d)=>{const m=U,c=T,s=Y;return l(),L(s,{show:a(r),"onUpdate:show":d[1]||(d[1]=o=>K(r)?r.value=o:r=o),style:{padding:"64px"}},{default:k(()=>[e("div",ye,[e("div",xe,[(l(!0),i(y,null,w(p.texts,(o,B)=>(l(),i("div",{class:"line",key:B,style:z(o==null?void 0:o.style)},u(o.value),5))),128))]),v(m,{class:"btn",round:"",size:"normal",color:"var(--jd-color)",onClick:d[0]||(d[0]=o=>a(n)(t.path))},{default:k(()=>[C("登录后领取")]),_:1}),v(c,{name:"close",class:"close",onClick:g})])]),_:1},8,["show"])}}}),be=I(we,[["__scopeId","data-v-69fa337f"]]),Ce=t=>(D("data-v-6dda0e5b"),t=t(),F(),t),ke=Ce(()=>e("img",{class:"head",src:"http://img.seaboats.cn/prevent_page/jd_top.png",alt:""},null,-1)),$e={class:"list-1 flex middle between"},Be=["src"],Le={class:"name"},Ie={class:"time-list flex middle between"},Pe={class:"line-1"},Se={class:"line-2"},Te={class:"class-list flex middle between"},je={class:"product-list"},ze=$({__name:"index",setup(t){const{toLogin:h}=M(),{getLimitList:n}=W();let r=n(6);const _=b(null);G(()=>{setTimeout(()=>{var m;(m=_.value)==null||m.open()},1e3)});let x=b([{name:"欢乐淘金",img:"http://img.seaboats.cn/prevent_page/icon_1.png"},{name:"转赚红包",img:"http://img.seaboats.cn/prevent_page/icon_2.png"},{name:"大牌奥莱",img:"http://img.seaboats.cn/prevent_page/icon_3.png"},{name:"低价捡漏",img:"http://img.seaboats.cn/prevent_page/icon_4.png"}]),p=b(["精选","家居家电","医药健康","食品饮料","美妆个护","服饰鞋包","母婴玩具","数码家电","运动户外","生鲜水果","图书音像","游戏周边","其他"]),f=new Date().getHours(),d=j(()=>{f%2==1&&f--;let m=[];for(let c=0;c<6;c++){let s=f+c*2;s>=24&&(s=s-24),s=s<10?"0"+s:s,m.push(s)}return m});return(m,c)=>(l(),i(y,null,[e("div",{class:"jd-index",onTouchend:c[0]||(c[0]=J(s=>a(h)("/wechat"),["stop"]))},[ke,e("div",$e,[(l(!0),i(y,null,w(a(x),(s,o)=>(l(),i("div",{class:"item flex middle center",key:o},[e("img",{class:"icon",src:s.img,alt:""},null,8,Be),e("div",Le,u(s.name),1)]))),128))]),e("div",Ie,[(l(!0),i(y,null,w(a(d),(s,o)=>(l(),i("div",{class:P(["time-item flex middle center column",{selected:o==0}])},[e("div",Pe,u(s)+":00",1),e("div",Se,u(o==0?"正在抢购":"即将开抢"),1)],2))),256))]),e("div",Te,[(l(!0),i(y,null,w(a(p),(s,o)=>(l(),i("div",{class:P(["class-item",{selected:o==0}])},u(s),3))),256))]),e("div",je,[(l(!0),i(y,null,w(a(r),s=>(l(),L(ge,{item:s,key:s.name},null,8,["item"]))),128))]),v(X)],32),v(be,{ref_key:"LowPriceRef",ref:_},null,512)],64))}}),Ee=I(ze,[["__scopeId","data-v-6dda0e5b"]]);export{Ee as default};
