import{d as k,c as y,T as H,v as N,r as x,k as P,o as l,a as p,h as s,u as a,t as d,F as h,b as w,e as L,w as B,f as C,x as S,p as T,g as j,_ as $,y as E,z as F,s as O,A as V,B as M}from"./index-BUDJbm-d.js";import{c as q,t as K,m as U,H as G,I as z,w as J}from"./index-1IMyRTzM.js";import{a as R}from"./index-Ciscd8vD.js";import{B as Q}from"./index-BFDfGY4n.js";import{P as W}from"./mount-component-BsIUfqY6.js";const[X,I]=q("tag"),Y={size:String,mark:Boolean,show:K,type:U("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var Z=k({name:X,props:Y,emits:["close"],setup(e,{slots:n,emit:o}){const c=_=>{_.stopPropagation(),o("close",_)},m=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},b=()=>{var _;const{type:f,mark:i,plain:v,round:g,size:r,closeable:t}=e,u={mark:i,plain:v,round:g};r&&(u[r]=r);const A=t&&y(z,{name:"cross",class:[I("close"),G],onClick:c},null);return y("span",{style:m(),class:I([u,f])},[(_=n.default)==null?void 0:_.call(n),A])};return()=>y(H,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?b():null]})}});const ee=J(Z),D=e=>(T("data-v-a067f85a"),e=e(),j(),e),te={class:"list-item flex middle start"},se=["src"],oe={class:"right flex1 flex column start top"},ne={class:"title"},ae={class:"tags"},le={class:"price flex middle start"},ce={class:"price-num"},ie=D(()=>s("span",{class:"small"},"¥",-1)),re={class:"calc"},pe={class:"buy flex middle between"},ue={class:"radio"},de={class:"radio-num"},me=D(()=>s("button",{class:"buy-button"},"抢",-1)),_e=k({__name:"ListItem",props:{item:{type:Object,required:!0}},setup(e){const n=e,{item:o}=N(n);let c=x(Math.floor(new Date().getHours()/24*100)),m=P(()=>c.value>20?c.value:20);return(b,_)=>{const f=ee;return l(),p("div",te,[s("img",{src:a(o).img,class:"left"},null,8,se),s("div",oe,[s("h4",ne,d(a(o).name),1),s("div",ae,[(l(!0),p(h,null,w(a(o).tags,(i,v)=>(l(),L(f,{style:{"margin-right":"10px"},plain:"",type:v==0?"danger":"warning",key:v},{default:B(()=>[C(d(i),1)]),_:2},1032,["type"]))),128))]),s("div",le,[s("span",ce,[ie,C(d((a(o).price*10-a(o).saveMoney*10)/10),1)]),y(f,{plain:"",class:"save-money",type:"danger"},{default:B(()=>[C(" 省"+d(a(o).saveMoney)+"元",1)]),_:1}),s("span",re,"日常价:"+d(a(o).price)+"元",1)]),s("div",pe,[s("div",ue,[s("div",{class:"inside",style:S({width:`${a(m)-a(o).offset}%`})},null,4)]),s("div",de,d(a(m)-a(o).offset)+"%",1),me])])])}}}),ge=$(_e,[["__scopeId","data-v-a067f85a"]]);function fe(e){let n=e.length;for(;n;){let o=Math.floor(Math.random()*n),c=e[--n];e[n]=e[o],e[o]=c}return e}function ve(){let e=x([{name:"容声 210L 大容量节能双温柜",price:"1999",saveMoney:100,offset:13,tags:["30天加保","回头客"],img:"http://img.seaboats.cn/prevent_page/product_1.webp"},{name:"红豆薏米茶去调湿茶 20袋",price:"19.9",saveMoney:5,offset:12,tags:["闪电退款","7天无理由"],img:"http://img.seaboats.cn/prevent_page/product_2.webp"},{name:"佳洁士 锁白牙膏 120g*3",price:"25.9",saveMoney:5,offset:9,tags:["包邮","30天价保"],img:"http://img.seaboats.cn/prevent_page/product_3.webp"},{name:"英氏 核桃油 110mL",price:"35.9",saveMoney:10,offset:14,tags:["包邮","1万人加购"],img:"http://img.seaboats.cn/prevent_page/product_4.webp"},{name:"泡菜 500g",price:"27.9",saveMoney:2,offset:5,tags:["包邮","闪电退款"],img:"http://img.seaboats.cn/prevent_page/product_5.webp"},{name:"同仁堂 抗皱眼霜 30g",price:"39.9",saveMoney:10,offset:13,tags:["包邮","7天无理由"],img:"http://img.seaboats.cn/prevent_page/product_6.webp"},{name:"途虎 汽车玻璃水 8斤装",tags:["包邮","闪电退款"],price:"19.9",saveMoney:4,offset:2,img:"http://img.seaboats.cn/prevent_page/product_7.webp"},{name:"同仁堂 牙膏 120g+20g",price:"31.9",saveMoney:5,offset:7,tags:["包邮","回头客"],img:"http://img.seaboats.cn/prevent_page/product_8.webp"},{name:"爷爷的农场 果泥 5支装",price:"17.9",saveMoney:2,offset:15,tags:["包邮","回头客"],img:"http://img.seaboats.cn/prevent_page/product_9.webp"},{name:"苏菲 超值日夜组合",price:"49.9",saveMoney:10,offset:8,tags:["包邮","30天价保"],img:"http://img.seaboats.cn/prevent_page/product_10.png"}]);function n(o){return fe(e.value).slice(0,o)}return{products:e,getLimitList:n}}function he(){let e=x(!1);function n(){e.value=!0}function o(){e.value=!1}return{show:e,open:n,close:o}}const ye={class:"low-price"},be={class:"text flex column around"},we=k({__name:"LowPrice",props:{texts:{type:Array,default:()=>[{value:"您将获得1-3个优惠券",style:"color:var(--jd-color)"},{value:"请及时使用"},{value:"点击按钮登录后领取",style:"color:var(--jd-color)"}]},path:{type:String,default:"/wx/login"}},setup(e,{expose:n}){const o=e;let{show:c,open:m,close:b}=he();m();async function _(){try{await R({message:"确定要关闭吗？",confirmButtonText:"确定",confirmButtonColor:"var(--jd-color)",cancelButtonText:"取消",showCancelButton:!0,closeOnClickOverlay:!0}),b()}catch{}}return n({open:m}),(f,i)=>{const v=Q,g=z,r=W;return l(),L(r,{show:a(c),"onUpdate:show":i[1]||(i[1]=t=>E(c)?c.value=t:c=t),style:{padding:"64px"}},{default:B(()=>[s("div",ye,[s("div",be,[(l(!0),p(h,null,w(o.texts,(t,u)=>(l(),p("div",{class:"line",key:u,style:S(t==null?void 0:t.style)},d(t.value),5))),128))]),y(v,{class:"btn",round:"",size:"normal",color:"var(--jd-color)",onClick:i[0]||(i[0]=t=>f.$router.push(e.path))},{default:B(()=>[C("登录后领取")]),_:1}),y(g,{name:"close",class:"close",onClick:_})])]),_:1},8,["show"])}}}),xe=$(we,[["__scopeId","data-v-244d104b"]]);function Ce(){const e=F();function n(o){R({title:"提示",message:"您还未登录，请先登录",confirmButtonText:"去登录",confirmButtonColor:"var(--jd-color)",cancelButtonText:"我再看看",showCancelButton:!0}).then(()=>{e.push(o)})}return{toLogin:n}}const Be=e=>(T("data-v-902a0664"),e=e(),j(),e),ke={class:"jd-index"},Le=Be(()=>s("img",{class:"head",src:"http://img.seaboats.cn/prevent_page/jd_top.png",alt:""},null,-1)),$e={class:"list-1 flex middle between"},Me=["src"],Ie={class:"name"},Pe={class:"time-list flex middle between"},Se={class:"line-1"},Te={class:"line-2"},je={class:"class-list flex middle between"},ze={class:"product-list"},Re=k({__name:"index",setup(e){const{toLogin:n}=Ce(),{getLimitList:o}=ve();let c=o(5);const m=x(null);O(()=>{setTimeout(()=>{var g;(g=m.value)==null||g.open()},1e3)});let b=x([{name:"欢乐淘金",img:"http://img.seaboats.cn/prevent_page/icon_1.png"},{name:"转赚红包",img:"http://img.seaboats.cn/prevent_page/icon_2.png"},{name:"大牌奥莱",img:"http://img.seaboats.cn/prevent_page/icon_3.png"},{name:"低价捡漏",img:"http://img.seaboats.cn/prevent_page/icon_4.png"}]),_=x(["精选","家居家电","医药健康","食品饮料","美妆个护","服饰鞋包","母婴玩具","数码家电","运动户外","生鲜水果","图书音像","游戏周边","其他"]),i=new Date().getHours(),v=P(()=>{i%2==1&&i--;let g=[];for(let r=0;r<6;r++){let t=i+r*2;t>=24&&(t=t-24),t=t<10?"0"+t:t,g.push(t)}return g});return(g,r)=>(l(),p(h,null,[s("div",ke,[Le,s("div",$e,[(l(!0),p(h,null,w(a(b),(t,u)=>(l(),p("div",{class:"item flex middle center",key:u},[s("img",{class:"icon",src:t.img,alt:""},null,8,Me),s("div",Ie,d(t.name),1)]))),128))]),s("div",Pe,[(l(!0),p(h,null,w(a(v),(t,u)=>(l(),p("div",{class:M(["time-item flex middle center column",{selected:u==0}])},[s("div",Se,d(t)+":00",1),s("div",Te,d(u==0?"正在抢购":"即将开抢"),1)],2))),256))]),s("div",je,[(l(!0),p(h,null,w(a(_),(t,u)=>(l(),p("div",{class:M(["class-item",{selected:u==0}])},d(t),3))),256))]),s("div",ze,[(l(!0),p(h,null,w(a(c),t=>(l(),L(ge,{item:t,key:t.name},null,8,["item"]))),128))])]),s("div",{class:"full",onClick:r[0]||(r[0]=V(t=>a(n)("/wx/login"),["stop"]))}),y(xe,{ref_key:"LowPriceRef",ref:m},null,512)],64))}}),Fe=$(Re,[["__scopeId","data-v-902a0664"]]);export{Fe as default};
