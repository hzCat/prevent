import{u as S,n as x,d as P,e as G,ac as $,A as _,r as w,N as v,a as b,I as A,O as C,c as y,z as E,R as z,ab as B,m as N,ad as F,M as K,p as U,b as j,w as q}from"./index-DcSzU1BN.js";import{a as O}from"./mount-component-DfGsuC5f.js";const D={name:S,disabled:Boolean,iconSize:x,modelValue:S,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var H=P({props:G({},D,{bem:$(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:_,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:i,slots:r}){const c=w(),t=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},l=v(()=>{if(e.parent&&e.bindGroup){const a=t("disabled")||e.disabled;if(e.role==="checkbox"){const s=t("modelValue").length,u=t("max"),k=u&&s>=+u;return a||k&&!e.checked}return a}return e.disabled}),m=v(()=>t("direction")),n=v(()=>{const a=e.checkedColor||t("checkedColor");if(a&&e.checked&&!l.value)return{borderColor:a,backgroundColor:a}}),d=v(()=>e.shape||t("shape")||"round"),h=a=>{const{target:s}=a,u=c.value,k=u===s||(u==null?void 0:u.contains(s));!l.value&&(k||!e.labelDisabled)&&i("toggle"),i("click",a)},f=()=>{var a,s;const{bem:u,checked:k,indeterminate:V}=e,g=e.iconSize||t("iconSize");return b("div",{ref:c,class:u("icon",[d.value,{disabled:l.value,checked:k,indeterminate:V}]),style:d.value!=="dot"?{fontSize:C(g)}:{width:C(g),height:C(g),borderColor:(a=n.value)==null?void 0:a.borderColor}},[r.icon?r.icon({checked:k,disabled:l.value}):d.value!=="dot"?b(A,{name:V?"minus":"success",style:n.value},null):b("div",{class:u("icon--dot__icon"),style:{backgroundColor:(s=n.value)==null?void 0:s.backgroundColor}},null)])},o=()=>{const{checked:a}=e;if(r.default)return b("span",{class:e.bem("label",[e.labelPosition,{disabled:l.value}])},[r.default({checked:a,disabled:l.value})])};return()=>{const a=e.labelPosition==="left"?[o(),f()]:[f(),o()];return b("div",{role:e.role,class:e.bem([{disabled:l.value,"label-disabled":e.labelDisabled},m.value]),tabindex:l.value?void 0:0,"aria-checked":e.checked,onClick:h},[a])}}});const[I,L]=y("checkbox-group"),M={max:x,shape:N("round"),disabled:Boolean,iconSize:x,direction:String,modelValue:F(),checkedColor:String},R=Symbol(I);var W=P({name:I,props:M,emits:["change","update:modelValue"],setup(e,{emit:i,slots:r}){const{children:c,linkChildren:t}=E(R),l=n=>i("update:modelValue",n),m=(n={})=>{typeof n=="boolean"&&(n={checked:n});const{checked:d,skipDisabled:h}=n,o=c.filter(a=>a.props.bindGroup?a.props.disabled&&h?a.checked.value:d??!a.checked.value:!1).map(a=>a.name);l(o)};return z(()=>e.modelValue,n=>i("change",n)),O({toggleAll:m}),B(()=>e.modelValue),t({props:e,updateValue:l}),()=>{var n;return b("div",{class:L([e.direction])},[(n=r.default)==null?void 0:n.call(r)])}}});const[T,X]=y("checkbox"),Y=G({},D,{shape:String,bindGroup:_,indeterminate:{type:Boolean,default:null}});var p=P({name:T,props:Y,emits:["change","update:modelValue"],setup(e,{emit:i,slots:r}){const{parent:c}=K(R),t=n=>{const{name:d}=e,{max:h,modelValue:f}=c.props,o=f.slice();if(n)!(h&&o.length>=+h)&&!o.includes(d)&&(o.push(d),e.bindGroup&&c.updateValue(o));else{const a=o.indexOf(d);a!==-1&&(o.splice(a,1),e.bindGroup&&c.updateValue(o))}},l=v(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),m=(n=!l.value)=>{c&&e.bindGroup?t(n):i("update:modelValue",n),e.indeterminate!==null&&i("change",n)};return z(()=>e.modelValue,n=>{e.indeterminate===null&&i("change",n)}),O({toggle:m,props:e,checked:l}),B(()=>e.modelValue),()=>b(H,j({bem:X,role:"checkbox",parent:c,checked:l.value,onToggle:m},e),U(r,["default","icon"]))}});const Z=q(p);export{Z as C,W as a,D as c,H as s};
