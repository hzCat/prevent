import{c as se,A as N,n as te,K as U,d as z,r as V,L as ne,z as Ce,N as b,R as M,ad as Te,ae as Se,af as ke,T as oe,ag as Ie,ah as ze,ai as Pe,U as Be,a as m,aj as ae,S as ie,ak as j,C as Ae,al as W,w as ce,M as Le,_ as O,o as w,g as $,q as _,l as D,s as le,B as re,v as Me,x as De,F as E,h as X,j as T,a5 as Ee,t as S,k as ue,a3 as Oe,I as Re,a2 as Ne,a4 as je}from"./index-DrH4ebPx.js";import{b as Ye,u as de,a as Ve}from"./login-T4CXF4fA.js";import{a as Xe}from"./index-DMMOGL-Y.js";import{c as Fe,a as ve,o as He,P as Ue}from"./mount-component-BRwBUCyJ.js";import{C as We}from"./index-C2AkuUHq.js";import"./index-DxfqEgN6.js";const[fe,Y]=se("swipe"),Ke={loop:N,width:te,height:te,vertical:Boolean,autoplay:U(0),duration:U(500),touchable:N,lazyRender:Boolean,initialSwipe:U(0),indicatorColor:String,showIndicators:N,stopPropagation:N},he=Symbol(fe);var qe=z({name:fe,props:Ke,emits:["change","dragStart","dragEnd"],setup(t,{emit:f,slots:r}){const n=V(),c=V(),e=ne({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let y=!1;const d=Fe(),{children:h,linkChildren:o}=Ce(he),s=b(()=>h.length),u=b(()=>e[t.vertical?"height":"width"]),p=b(()=>t.vertical?d.deltaY.value:d.deltaX.value),v=b(()=>e.rect?(t.vertical?e.rect.height:e.rect.width)-u.value*s.value:0),P=b(()=>u.value?Math.ceil(Math.abs(v.value)/u.value):s.value),F=b(()=>s.value*u.value),k=b(()=>(e.active+s.value)%s.value),K=b(()=>{const a=t.vertical?"vertical":"horizontal";return d.direction.value===a}),pe=b(()=>{const a={transitionDuration:`${e.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const l=t.vertical?"height":"width",i=t.vertical?"width":"height";a[l]=`${F.value}px`,a[i]=t[i]?`${t[i]}px`:""}return a}),me=a=>{const{active:l}=e;return a?t.loop?W(l+a,-1,s.value):W(l+a,0,P.value):l},q=(a,l=0)=>{let i=a*u.value;t.loop||(i=Math.min(i,-v.value));let x=l-i;return t.loop||(x=W(x,v.value,0)),x},C=({pace:a=0,offset:l=0,emitChange:i})=>{if(s.value<=1)return;const{active:x}=e,g=me(a),L=q(g,l);if(t.loop){if(h[0]&&L!==v.value){const H=L<v.value;h[0].setOffset(H?F.value:0)}if(h[s.value-1]&&L!==0){const H=L>0;h[s.value-1].setOffset(H?-F.value:0)}}e.active=g,e.offset=L,i&&g!==x&&f("change",k.value)},R=()=>{e.swiping=!0,e.active<=-1?C({pace:s.value}):e.active>=s.value&&C({pace:-s.value})},ge=()=>{R(),d.reset(),j(()=>{e.swiping=!1,C({pace:-1,emitChange:!0})})},G=()=>{R(),d.reset(),j(()=>{e.swiping=!1,C({pace:1,emitChange:!0})})};let J;const B=()=>clearTimeout(J),A=()=>{B(),+t.autoplay>0&&s.value>1&&(J=setTimeout(()=>{G(),A()},+t.autoplay))},I=(a=+t.initialSwipe)=>{if(!n.value)return;const l=()=>{var i,x;if(!ae(n)){const g={width:n.value.offsetWidth,height:n.value.offsetHeight};e.rect=g,e.width=+((i=t.width)!=null?i:g.width),e.height=+((x=t.height)!=null?x:g.height)}s.value&&(a=Math.min(s.value-1,a),a===-1&&(a=s.value-1)),e.active=a,e.swiping=!0,e.offset=q(a),h.forEach(g=>{g.setOffset(0)}),A()};ae(n)?ie().then(l):l()},Q=()=>I(e.active);let Z;const we=a=>{!t.touchable||a.touches.length>1||(d.start(a),y=!1,Z=Date.now(),B(),R())},ye=a=>{t.touchable&&e.swiping&&(d.move(a),K.value&&(!t.loop&&(e.active===0&&p.value>0||e.active===s.value-1&&p.value<0)||(Ae(a,t.stopPropagation),C({offset:p.value}),y||(f("dragStart",{index:k.value}),y=!0))))},ee=()=>{if(!t.touchable||!e.swiping)return;const a=Date.now()-Z,l=p.value/a;if((Math.abs(l)>.25||Math.abs(p.value)>u.value/2)&&K.value){const x=t.vertical?d.offsetY.value:d.offsetX.value;let g=0;t.loop?g=x>0?p.value>0?-1:1:0:g=-Math[p.value>0?"ceil":"floor"](p.value/u.value),C({pace:g,emitChange:!0})}else p.value&&C({pace:0});y=!1,e.swiping=!1,f("dragEnd",{index:k.value}),A()},xe=(a,l={})=>{R(),d.reset(),j(()=>{let i;t.loop&&a===s.value?i=e.active===0?0:a:i=a%s.value,l.immediate?j(()=>{e.swiping=!1}):e.swiping=!1,C({pace:i-e.active,emitChange:!0})})},be=(a,l)=>{const i=l===k.value,x=i?{backgroundColor:t.indicatorColor}:void 0;return m("i",{style:x,class:Y("indicator",{active:i})},null)},$e=()=>{if(r.indicator)return r.indicator({active:k.value,total:s.value});if(t.showIndicators&&s.value>1)return m("div",{class:Y("indicators",{vertical:t.vertical})},[Array(s.value).fill("").map(be)])};return ve({prev:ge,next:G,state:e,resize:Q,swipeTo:xe}),o({size:u,props:t,count:s,activeIndicator:k}),M(()=>t.initialSwipe,a=>I(+a)),M(s,()=>I(e.active)),M(()=>t.autoplay,A),M([Te,Se,()=>t.width,()=>t.height],Q),M(ke(),a=>{a==="visible"?A():B()}),oe(I),Ie(()=>I(e.active)),He(()=>I(e.active)),ze(B),Pe(B),Be("touchmove",ye,{target:c}),()=>{var a;return m("div",{ref:n,class:Y()},[m("div",{ref:c,style:pe.value,class:Y("track",{vertical:t.vertical}),onTouchstartPassive:we,onTouchend:ee,onTouchcancel:ee},[(a=r.default)==null?void 0:a.call(r)]),$e()])}}});const Ge=ce(qe),[Je,Qe]=se("swipe-item");var Ze=z({name:Je,setup(t,{slots:f}){let r;const n=ne({offset:0,inited:!1,mounted:!1}),{parent:c,index:e}=Le(he);if(!c)return;const y=b(()=>{const o={},{vertical:s}=c.props;return c.size.value&&(o[s?"height":"width"]=`${c.size.value}px`),n.offset&&(o.transform=`translate${s?"Y":"X"}(${n.offset}px)`),o}),d=b(()=>{const{loop:o,lazyRender:s}=c.props;if(!s||r)return!0;if(!n.mounted)return!1;const u=c.activeIndicator.value,p=c.count.value-1,v=u===0&&o?p:u-1,P=u===p&&o?0:u+1;return r=e.value===u||e.value===v||e.value===P,r}),h=o=>{n.offset=o};return oe(()=>{ie(()=>{n.mounted=!0})}),ve({setOffset:h}),()=>{var o;return m("div",{class:Qe(),style:y.value},[d.value?(o=f.default)==null?void 0:o.call(f):null])}}});const et=ce(Ze),tt={},_e=t=>(Me("data-v-9245ec9d"),t=t(),De(),t),at={class:"logo-line flex middle between"},st=_e(()=>_("img",{class:"logo",src:"http://img.seaboats.cn/prevent_page/pdd/logo.png",alt:""},null,-1)),nt={class:"buy flex middle"},ot=_e(()=>_("span",null,"0.1元包邮抢16包清风面巾纸",-1));function it(t,f){const r=re;return w(),$("div",at,[st,_("div",nt,[ot,m(r,{class:"btn",type:"default",size:"small"},{default:D(()=>[le("前往购买")]),_:1})])])}const ct=O(tt,[["render",it],["__scopeId","data-v-9245ec9d"]]),lt={class:"tab flex middle"},rt=z({__name:"Tab",setup(t){let f=V(["限时秒杀","9.9精选","推荐","优惠券","食品超市","母婴","营养保健"]);return(r,n)=>(w(),$("div",lt,[(w(!0),$(E,null,X(T(f),(c,e)=>(w(),$("div",{class:Ee(["item",{selected:e===0}]),key:e},S(c),3))),128))]))}}),ut=O(rt,[["__scopeId","data-v-1f50c0b2"]]),dt={class:"double-list flex middle between wrap"},vt=["src"],ft={class:"name"},ht={class:"price"},_t={class:"price-num red"},pt={class:"price-unit"},mt=z({__name:"DoubleList",setup(t){const{getLimitList:f}=Ye();let r=f(6);return(n,c)=>(w(),$("div",dt,[(w(!0),$(E,null,X(T(r),(e,y)=>(w(),$("div",{class:"item",key:y},[_("img",{class:"cover",src:e.img,alt:""},null,8,vt),_("div",ft,S(e.name),1),_("div",ht,[_("span",_t,"￥"+S(e.price),1),_("span",pt,"￥"+S((e.price*10-e.saveMoney*10)/10),1)])]))),128))]))}}),gt=O(mt,[["__scopeId","data-v-ce5a6b00"]]),wt={class:"low-price"},yt={class:"text flex column around"},xt=z({__name:"RedBag",props:{texts:{type:Array,default:()=>[{value:"您获得了限时秒杀的机会",style:"font-size:1.1em;color:#f6d365;animation:btn-scale 2s infinite"},{value:"请及时使用",style:"color:#f6d365;font-size:0.8em;opacity:0.8"},{value:"点击按钮登录后领取",style:"color:#f6d365;font-size:0.8em;opacity:0.8"}]},path:{type:String,default:"/wechat"}},setup(t,{expose:f}){const{toLogin:r}=de();let{show:n,open:c,close:e}=Ve(),y=t;c();async function d(){try{await Xe({message:"确定要关闭吗？",confirmButtonText:"确定",confirmButtonColor:"var(--jd-color)",cancelButtonText:"取消",showCancelButton:!0,closeOnClickOverlay:!0}),e()}catch{}}return f({open:c}),(h,o)=>{const s=re,u=Re,p=Ue;return w(),ue(p,{show:T(n),"onUpdate:show":o[1]||(o[1]=v=>Oe(n)?n.value=v:n=v),style:{padding:"64px"}},{default:D(()=>[_("div",wt,[_("div",yt,[(w(!0),$(E,null,X(T(y).texts,(v,P)=>(w(),$("div",{class:"line",key:P,style:Ne(v==null?void 0:v.style)},S(v.value),5))),128))]),m(s,{class:"btn",round:"",size:"normal",color:"linear-gradient(135deg, #f6d365, #fda085)",onClick:o[0]||(o[0]=v=>T(r)(t.path))},{default:D(()=>[le("登录后领取")]),_:1}),m(u,{name:"close",class:"close",onClick:d})])]),_:1},8,["show"])}}}),bt=O(xt,[["__scopeId","data-v-4d1c3919"]]),$t=["src"],Ct={class:"swipe-text"},Tt={class:"line1"},St={class:"line2"},kt=z({__name:"index",setup(t){const{toLogin:f}=de();let r=V([{img:"http://img.seaboats.cn/prevent_page/pdd/one_yuan.jpg",name:"限时秒杀",content:"每日精选好货超低价秒杀，限时限量，全场包邮。"},{img:"http://img.seaboats.cn/prevent_page/pdd/9_9.png",name:"9.9 抢购",content:"全场9.9元起，汇聚全网优质折扣商品，限时限量特卖，好货不断。"},{img:"http://img.seaboats.cn/prevent_page/pdd/supermarket.jpg",name:"食品超市",content:"优选全球美食，品类丰富，全网超低价，闪电发货到您家!"}]);return(n,c)=>{const e=We,y=et,d=Ge;return w(),$(E,null,[_("div",{class:"pdd",onTouchend:c[0]||(c[0]=je(h=>T(f)("/wechat"),["stop"]))},[m(ct),m(e,{title:"精彩活动",icon:"star-o",value:"查看更多>"}),m(ut),m(d,{class:"my-swipe",autoplay:7e3,"lazy-render":"","indicator-color":"white"},{default:D(()=>[(w(!0),$(E,null,X(T(r),(h,o)=>(w(),ue(y,{key:o},{default:D(()=>[_("img",{class:"swipe-img",src:h.img,alt:""},null,8,$t),_("div",Ct,[_("div",Tt,S(h.name),1),_("div",St,S(h.content),1)])]),_:2},1024))),128))]),_:1}),m(gt)],32),m(bt)],64)}}}),Mt=O(kt,[["__scopeId","data-v-7cf5f2fe"]]);export{Mt as default};
