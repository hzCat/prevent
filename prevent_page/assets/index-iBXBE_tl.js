import{c as se,A as N,n as te,K as U,d as z,r as Y,L as ne,z as Ce,N as b,R as M,ae as Te,af as Se,ag as ke,T as oe,ah as Ie,ai as ze,aj as Pe,U as Be,a as _,ak as ae,S as ie,al as j,C as Ae,am as W,w as le,M as Le,_ as O,o as w,g as $,q as p,l as D,s as ce,B as re,v as Me,x as De,F as E,h as V,j as T,a6 as Ee,t as S,k as ue,a4 as Oe,I as Re,a3 as Ne,a5 as je}from"./index-DcSzU1BN.js";import{b as Fe,u as de,a as Ye,F as Ve}from"./Footer-BfPc9SOA.js";import{s as Xe}from"./function-call-BbtWbCUU.js";import{c as He,a as ve,o as Ue,P as We}from"./mount-component-DfGsuC5f.js";import{C as Ke}from"./index-CZ2rERth.js";import"./publicMethods-BuSC0Y0W.js";import"./index-BfPAezUI.js";const[fe,F]=se("swipe"),qe={loop:N,width:te,height:te,vertical:Boolean,autoplay:U(0),duration:U(500),touchable:N,lazyRender:Boolean,initialSwipe:U(0),indicatorColor:String,showIndicators:N,stopPropagation:N},he=Symbol(fe);var Ge=z({name:fe,props:qe,emits:["change","dragStart","dragEnd"],setup(t,{emit:f,slots:r}){const n=Y(),l=Y(),e=ne({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let y=!1;const d=He(),{children:h,linkChildren:o}=Ce(he),s=b(()=>h.length),u=b(()=>e[t.vertical?"height":"width"]),m=b(()=>t.vertical?d.deltaY.value:d.deltaX.value),v=b(()=>e.rect?(t.vertical?e.rect.height:e.rect.width)-u.value*s.value:0),P=b(()=>u.value?Math.ceil(Math.abs(v.value)/u.value):s.value),X=b(()=>s.value*u.value),k=b(()=>(e.active+s.value)%s.value),K=b(()=>{const a=t.vertical?"vertical":"horizontal";return d.direction.value===a}),pe=b(()=>{const a={transitionDuration:`${e.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const c=t.vertical?"height":"width",i=t.vertical?"width":"height";a[c]=`${X.value}px`,a[i]=t[i]?`${t[i]}px`:""}return a}),me=a=>{const{active:c}=e;return a?t.loop?W(c+a,-1,s.value):W(c+a,0,P.value):c},q=(a,c=0)=>{let i=a*u.value;t.loop||(i=Math.min(i,-v.value));let x=c-i;return t.loop||(x=W(x,v.value,0)),x},C=({pace:a=0,offset:c=0,emitChange:i})=>{if(s.value<=1)return;const{active:x}=e,g=me(a),L=q(g,c);if(t.loop){if(h[0]&&L!==v.value){const H=L<v.value;h[0].setOffset(H?X.value:0)}if(h[s.value-1]&&L!==0){const H=L>0;h[s.value-1].setOffset(H?-X.value:0)}}e.active=g,e.offset=L,i&&g!==x&&f("change",k.value)},R=()=>{e.swiping=!0,e.active<=-1?C({pace:s.value}):e.active>=s.value&&C({pace:-s.value})},ge=()=>{R(),d.reset(),j(()=>{e.swiping=!1,C({pace:-1,emitChange:!0})})},G=()=>{R(),d.reset(),j(()=>{e.swiping=!1,C({pace:1,emitChange:!0})})};let J;const B=()=>clearTimeout(J),A=()=>{B(),+t.autoplay>0&&s.value>1&&(J=setTimeout(()=>{G(),A()},+t.autoplay))},I=(a=+t.initialSwipe)=>{if(!n.value)return;const c=()=>{var i,x;if(!ae(n)){const g={width:n.value.offsetWidth,height:n.value.offsetHeight};e.rect=g,e.width=+((i=t.width)!=null?i:g.width),e.height=+((x=t.height)!=null?x:g.height)}s.value&&(a=Math.min(s.value-1,a),a===-1&&(a=s.value-1)),e.active=a,e.swiping=!0,e.offset=q(a),h.forEach(g=>{g.setOffset(0)}),A()};ae(n)?ie().then(c):c()},Q=()=>I(e.active);let Z;const we=a=>{!t.touchable||a.touches.length>1||(d.start(a),y=!1,Z=Date.now(),B(),R())},ye=a=>{t.touchable&&e.swiping&&(d.move(a),K.value&&(!t.loop&&(e.active===0&&m.value>0||e.active===s.value-1&&m.value<0)||(Ae(a,t.stopPropagation),C({offset:m.value}),y||(f("dragStart",{index:k.value}),y=!0))))},ee=()=>{if(!t.touchable||!e.swiping)return;const a=Date.now()-Z,c=m.value/a;if((Math.abs(c)>.25||Math.abs(m.value)>u.value/2)&&K.value){const x=t.vertical?d.offsetY.value:d.offsetX.value;let g=0;t.loop?g=x>0?m.value>0?-1:1:0:g=-Math[m.value>0?"ceil":"floor"](m.value/u.value),C({pace:g,emitChange:!0})}else m.value&&C({pace:0});y=!1,e.swiping=!1,f("dragEnd",{index:k.value}),A()},xe=(a,c={})=>{R(),d.reset(),j(()=>{let i;t.loop&&a===s.value?i=e.active===0?0:a:i=a%s.value,c.immediate?j(()=>{e.swiping=!1}):e.swiping=!1,C({pace:i-e.active,emitChange:!0})})},be=(a,c)=>{const i=c===k.value,x=i?{backgroundColor:t.indicatorColor}:void 0;return _("i",{style:x,class:F("indicator",{active:i})},null)},$e=()=>{if(r.indicator)return r.indicator({active:k.value,total:s.value});if(t.showIndicators&&s.value>1)return _("div",{class:F("indicators",{vertical:t.vertical})},[Array(s.value).fill("").map(be)])};return ve({prev:ge,next:G,state:e,resize:Q,swipeTo:xe}),o({size:u,props:t,count:s,activeIndicator:k}),M(()=>t.initialSwipe,a=>I(+a)),M(s,()=>I(e.active)),M(()=>t.autoplay,A),M([Te,Se,()=>t.width,()=>t.height],Q),M(ke(),a=>{a==="visible"?A():B()}),oe(I),Ie(()=>I(e.active)),Ue(()=>I(e.active)),ze(B),Pe(B),Be("touchmove",ye,{target:l}),()=>{var a;return _("div",{ref:n,class:F()},[_("div",{ref:l,style:pe.value,class:F("track",{vertical:t.vertical}),onTouchstartPassive:we,onTouchend:ee,onTouchcancel:ee},[(a=r.default)==null?void 0:a.call(r)]),$e()])}}});const Je=le(Ge),[Qe,Ze]=se("swipe-item");var et=z({name:Qe,setup(t,{slots:f}){let r;const n=ne({offset:0,inited:!1,mounted:!1}),{parent:l,index:e}=Le(he);if(!l)return;const y=b(()=>{const o={},{vertical:s}=l.props;return l.size.value&&(o[s?"height":"width"]=`${l.size.value}px`),n.offset&&(o.transform=`translate${s?"Y":"X"}(${n.offset}px)`),o}),d=b(()=>{const{loop:o,lazyRender:s}=l.props;if(!s||r)return!0;if(!n.mounted)return!1;const u=l.activeIndicator.value,m=l.count.value-1,v=u===0&&o?m:u-1,P=u===m&&o?0:u+1;return r=e.value===u||e.value===v||e.value===P,r}),h=o=>{n.offset=o};return oe(()=>{ie(()=>{n.mounted=!0})}),ve({setOffset:h}),()=>{var o;return _("div",{class:Ze(),style:y.value},[d.value?(o=f.default)==null?void 0:o.call(f):null])}}});const tt=le(et),at={},_e=t=>(Me("data-v-9245ec9d"),t=t(),De(),t),st={class:"logo-line flex middle between"},nt=_e(()=>p("img",{class:"logo",src:"http://img.seaboats.cn/prevent_page/pdd/logo.png",alt:""},null,-1)),ot={class:"buy flex middle"},it=_e(()=>p("span",null,"0.1元包邮抢16包清风面巾纸",-1));function lt(t,f){const r=re;return w(),$("div",st,[nt,p("div",ot,[it,_(r,{class:"btn",type:"default",size:"small"},{default:D(()=>[ce("前往购买")]),_:1})])])}const ct=O(at,[["render",lt],["__scopeId","data-v-9245ec9d"]]),rt={class:"tab flex middle"},ut=z({__name:"Tab",setup(t){let f=Y(["限时秒杀","9.9精选","推荐","优惠券","食品超市","母婴","营养保健"]);return(r,n)=>(w(),$("div",rt,[(w(!0),$(E,null,V(T(f),(l,e)=>(w(),$("div",{class:Ee(["item",{selected:e===0}]),key:e},S(l),3))),128))]))}}),dt=O(ut,[["__scopeId","data-v-1f50c0b2"]]),vt={class:"double-list flex middle between wrap"},ft=["src"],ht={class:"name"},_t={class:"price"},pt={class:"price-num red"},mt={class:"price-unit"},gt=z({__name:"DoubleList",setup(t){const{getLimitList:f}=Fe();let r=f(6);return(n,l)=>(w(),$("div",vt,[(w(!0),$(E,null,V(T(r),(e,y)=>(w(),$("div",{class:"item",key:y},[p("img",{class:"cover",src:e.img,alt:""},null,8,ft),p("div",ht,S(e.name),1),p("div",_t,[p("span",pt,"￥"+S((e.price*10-e.saveMoney*10)/10),1),p("span",mt,"￥"+S(e.price),1)])]))),128))]))}}),wt=O(gt,[["__scopeId","data-v-ed11829d"]]),yt={class:"low-price"},xt={class:"text flex column around"},bt=z({__name:"RedBag",props:{texts:{type:Array,default:()=>[{value:"您获得了限时秒杀的机会",style:"font-size:1.1em;color:#f6d365;animation:btn-scale 2s infinite"},{value:"请及时使用",style:"color:#f6d365;font-size:0.8em;opacity:0.8"},{value:"点击按钮登录后领取",style:"color:#f6d365;font-size:0.8em;opacity:0.8"}]},path:{type:String,default:"/wechat"}},setup(t,{expose:f}){const{toLogin:r}=de();let{show:n,open:l,close:e}=Ye(),y=t;l();async function d(){try{await Xe({message:"确定要关闭吗？",confirmButtonText:"确定",confirmButtonColor:"var(--jd-color)",cancelButtonText:"取消",showCancelButton:!0,closeOnClickOverlay:!0}),e()}catch{}}return f({open:l}),(h,o)=>{const s=re,u=Re,m=We;return w(),ue(m,{show:T(n),"onUpdate:show":o[1]||(o[1]=v=>Oe(n)?n.value=v:n=v),style:{padding:"64px"}},{default:D(()=>[p("div",yt,[p("div",xt,[(w(!0),$(E,null,V(T(y).texts,(v,P)=>(w(),$("div",{class:"line",key:P,style:Ne(v==null?void 0:v.style)},S(v.value),5))),128))]),_(s,{class:"btn",round:"",size:"normal",color:"linear-gradient(135deg, #f6d365, #fda085)",onClick:o[0]||(o[0]=v=>T(r)(t.path))},{default:D(()=>[ce("登录后领取")]),_:1}),_(u,{name:"close",class:"close",onClick:d})])]),_:1},8,["show"])}}}),$t=O(bt,[["__scopeId","data-v-4d1c3919"]]),Ct=["src"],Tt={class:"swipe-text"},St={class:"line1"},kt={class:"line2"},It=z({__name:"index",setup(t){const{toLogin:f}=de();let r=Y([{img:"http://img.seaboats.cn/prevent_page/pdd/one_yuan.jpg",name:"限时秒杀",content:"每日精选好货超低价秒杀，限时限量，全场包邮。"},{img:"http://img.seaboats.cn/prevent_page/pdd/9_9.png",name:"9.9 抢购",content:"全场9.9元起，汇聚全网优质折扣商品，限时限量特卖，好货不断。"},{img:"http://img.seaboats.cn/prevent_page/pdd/supermarket.jpg",name:"食品超市",content:"优选全球美食，品类丰富，全网超低价，闪电发货到您家!"}]);return(n,l)=>{const e=Ke,y=tt,d=Je;return w(),$(E,null,[p("div",{class:"pdd",onTouchend:l[0]||(l[0]=je(h=>T(f)("/wechat"),["stop"]))},[_(ct),_(e,{title:"精彩活动",value:"查看更多>"}),_(dt),_(d,{class:"my-swipe",autoplay:7e3,"lazy-render":"","indicator-color":"white"},{default:D(()=>[(w(!0),$(E,null,V(T(r),(h,o)=>(w(),ue(y,{key:o},{default:D(()=>[p("img",{class:"swipe-img",src:h.img,alt:""},null,8,Ct),p("div",Tt,[p("div",St,S(h.name),1),p("div",kt,S(h.content),1)])]),_:2},1024))),128))]),_:1}),_(wt),_(Ve)],32),_($t)],64)}}}),Et=O(It,[["__scopeId","data-v-e0f67ab4"]]);export{Et as default};
